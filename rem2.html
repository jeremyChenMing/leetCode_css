<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0,minimum-scale=1,initial-scale=1,maximum-scale=1,viewport-fit=cover"
    />
    <title>Document</title>
    <script type="text/javascript">
      //
      ;(function (win) {
        var doc = win.document
        var docEl = doc.documentElement
        var metaEl = doc.querySelector('meta[name="viewport"]')
        var dpr = 0
        var scale = 0
        var tid

        if (metaEl) {
          console.warn("将根据已有的meta标签来设置缩放比例")
          var match = metaEl
            .getAttribute("content")
            .match(/initial\-scale=([\d\.]+)/)
          if (match) {
            scale = parseFloat(match[1])
            dpr = parseInt(1 / scale)
          }
        }
        // console.log(dpr, scale)
        docEl.setAttribute("data-dpr", dpr)

        function refreshRem() {
          // console.log(docEl.getBoundingClientRect(), "@@@")
          var width
          if (window.orientation === 180 || window.orientation === 0) {
            // console.log("竖屏状态！")
            // width = docEl.getBoundingClientRect().width
            width = docEl.clientWidth
          }
          if (window.orientation === 90 || window.orientation === -90) {
            // console.log("横屏状态！")
            // width = docEl.getBoundingClientRect().height
            width = docEl.clientHeight
          }
          // console.log(width)
          if (width / dpr > 540) {
            // 540是1080的二分之一
            width = 540 * dpr
          }
          var rem = width / 10
          docEl.style.fontSize = rem + "px"
        }

        win.addEventListener(
          "resize",
          function () {
            // console.log("resize")
            clearTimeout(tid)
            tid = setTimeout(refreshRem, 300)
          },
          false
        )

        doc.addEventListener(
          "DOMContentLoaded",
          function (e) {
            // console.log("DOMContentLoaded")
            doc.body.style.fontSize = 12 * dpr + "px"
          },
          false
        )

        refreshRem()
      })(window)
    </script>
    <style type="text/css">
      * {
        margin: 0;
        padding: 0;
      }
      html,
      body {
        height: 100%;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="content">
      <input
        placeholder="输入"
        onkeyup="this.value=this.value.replace(/\D/g,'')"
      />
    </div>
    <script>
      var formData = new FormData()
      formData.append("token", "1")
      formData.append("token", "2")
      console.log(formData)
      console.log(formData.get("token"))
      console.log(formData.getAll("token"))
    </script>
  </body>
</html>
